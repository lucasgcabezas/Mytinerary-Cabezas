(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(26),c=n.n(s),i=n(25),o=n(5),l=n(49),d=n(2),u={citiesArray:[],citiesFiltered:[],loading:!0,error:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_CITIES":return Object(d.a)(Object(d.a)({},e),t.payload);case"FILTER_CITY":return Object(d.a)(Object(d.a)({},e),{},{citiesFiltered:e.citiesArray.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.toLowerCase().trim())}))});case"ERROR_CITY":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});default:return e}},p={selectedItineraries:[],oneCity:{},preloader:!0,error:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":case"GET_ONECITY":case"ERROR_ITINERARY":case"REMOVE_ITINERARIES":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},b={arrayOf:[],citiesArrayOrItineraries:[],preloader:!0,preloaderCityOrIti:!0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ELEMENTS":case"ADD_ELEMENT":return Object(d.a)(Object(d.a)({},e),t.payload);case"DELETE_ELEMENT":return Object(d.a)(Object(d.a)({},e),{},{arrayOf:e.arrayOf.filter((function(e){return e._id!==t.payload._id}))});case"MODIFY_ELEMENT":return Object(d.a)(Object(d.a)({},e),{},{arrayOf:t.payload});case"ALL_CITIES_OR_ITINERARIES":case"CLEAN":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},h={userLogged:null,userAdm:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("userLogged",JSON.stringify({firstName:t.payload.firstName,userPic:t.payload.userPic})),localStorage.setItem("token",t.payload.token),Object(d.a)(Object(d.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(d.a)(Object(d.a)({},e),{},{userLogged:null});case"CHECK_ADMIN":return Object(d.a)(Object(d.a)({},e),{},{userAdm:t.payload});default:return e}},f={allComments:[],idItineraryOfComments:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return t.payload;default:return e}},y=Object(i.c)({cityReducer:j,itineraryReducer:m,adminReducer:O,authReducer:x,commentReducer:g}),v=n(19),C=n(20),N=n(22),k=n(21),I=(n(59),n(60),n(8)),w=n(10),S=n(4),E=n(3),A=n.n(E),_=n(6),R=n(9),L=n.n(R),T=n(12),U=n.n(T),F="http://localhost:4000/api",D=function(){var e=Object(_.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:n,type:a,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M={signUpUser:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n,a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post(F+"/user/signup",e);case 3:if(!(r=t.sent).data.errorsValidator){t.next=8;break}return t.abrupt("return",r.data.errorsValidator);case 8:r.data.error?D("Error",r.data.error,"danger"):(n({type:"LOG_USER",payload:r.data.response}),D(r.data.response.firstName,"Welcome to Mytinerary!","success"));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),D("Error","Internal server error, please try later!","danger");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},signInUSer:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n,a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post(F+"/user/signin",e);case 3:(r=t.sent).data.success?(n({type:"LOG_USER",payload:r.data.response}),D(r.data.response.firstName,"Welcome to Mytinerary!","success")):D("Oops",r.data.error,"danger"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),D("Error","Internal server error, please try later!","danger");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},signInLocalStorage:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n,a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get(F+"/user/signinls",{headers:{Authorization:"Bearer "+e.token}});case 3:r=t.sent,n({type:"LOG_USER",payload:Object(d.a)(Object(d.a)({},r.data.response),{},{token:e.token})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&alert("Me parece que me est\xe1s queriendo cagar con un token falso...");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},signOut:function(){return function(){var e=Object(_.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D("Goodbye!","Hope to see you soon!","info"),t({type:"LOGOUT_USER"});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},getCountries:function(){return function(){var e=Object(_.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",["Argentina","Brazil","Uruguay","Colombia","Chile","Venezuela"]);case 4:e.prev=4,e.t0=e.catch(0),D("Error","Internal server error, please try later!","danger");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}()},checkAdmin:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n,a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get(F+"/checkadmin",{headers:{Authorization:"Bearer "+e.token}});case 3:r=t.sent,n({type:"CHECK_ADMIN",payload:r.data.response}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},P=n(0),B={signOut:M.signOut},H=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged,userAdmin:e.authReducer.userAdm}}),B)((function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(I.c,{exact:!0,to:"/",children:Object(P.jsx)("span",{className:"link",children:"Home"})}),Object(P.jsx)(I.c,{exact:!0,to:"/cities",children:Object(P.jsx)("span",{className:"link",children:"Cities"})}),e.userLogged?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("span",{className:"link",onClick:e.signOut,children:"Sign Out"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(I.c,{exact:!0,to:"/user/signup",children:Object(P.jsx)("span",{className:"link",children:"Sign Up"})}),Object(P.jsx)(I.c,{exact:!0,to:"/user/signin",children:Object(P.jsx)("span",{className:"link",children:"Sign In"})})]}),e.userLogged&&e.userAdmin&&Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(I.c,{exact:!0,to:"/admin",children:Object(P.jsx)("span",{className:"link linkAdm",children:"Admin Panel"})})})]})})),G=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}))((function(e,t){var n=t.headerItineraries,r=Object(a.useState)({visible:!1}),s=Object(S.a)(r,2),c=s[0],i=s[1],o=window.screen.width<1024,l=e.userLogged?e.userLogged.userPic:"/assets/unlog.png";return Object(P.jsxs)("header",{className:n?"headerItinerary ":"header",children:[Object(P.jsx)("div",{className:"isologo",children:Object(P.jsxs)(I.b,{to:"/",children:[" ",Object(P.jsx)("div",{className:"isologo-img",style:{backgroundImage:"url('/assets/isotype.png')"}})," "]})}),Object(P.jsxs)("div",{className:"nav-unlog",children:[o?Object(P.jsxs)("div",{className:c.visible?"responsiveNavOpen":"responsiveNavClose",children:[" ",Object(P.jsx)(H,{})," "]}):Object(P.jsxs)("nav",{className:"navbar",children:[" ",Object(P.jsx)(H,{})," "]}),Object(P.jsx)("div",{className:"unlog",children:Object(P.jsx)("div",{className:"unlog-img",style:{backgroundImage:"url(".concat(l,")")}})}),Object(P.jsx)("div",{className:"toggleNav",onClick:function(){i({visible:!c.visible})},children:"\u2261"})]})]})})),Y=function(){return Object(P.jsxs)("div",{className:"hero",children:[Object(P.jsx)("div",{className:"logo",children:Object(P.jsx)("div",{className:"logo-img",style:{backgroundImage:"url('./assets/logotype.png')"}})}),Object(P.jsx)("div",{className:"slogan",children:Object(P.jsx)("div",{children:Object(P.jsx)("h1",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})})}),Object(P.jsx)(I.b,{to:"/cities",children:Object(P.jsx)("div",{className:"cta-plane",children:Object(P.jsx)("button",{className:"cta",children:Object(P.jsx)("p",{children:"Your dream destination"})})})}),Object(P.jsx)("div",{className:"transitionHero"})]})},V=function(e){var t=e.oneCity;return Object(P.jsx)("div",{className:"citySlider",children:Object(P.jsx)("div",{className:"imgSlider",style:{backgroundImage:"url(".concat(t.img,")")},children:Object(P.jsx)("div",{className:"titImgSlider",children:Object(P.jsx)("h1",{className:"tit",children:t.name})})})})},z=function(e){var t=e.citiesGroup;return Object(P.jsx)("div",{className:"carousel-cell",children:t.map((function(e){return Object(P.jsx)(V,{oneCity:e},e.id)}))})},X=n(50),W=n.n(X),q=function(e){var t=e.carrouselSize;return Object(P.jsx)("div",{className:"containerSlider",children:Object(P.jsx)(W.a,{className:"carousel",elementType:"div",options:{initialIndex:1,wrapAround:!0,autoPlay:!0},disableImagesLoaded:!1,reloadOnUpdate:!0,static:!0,children:t.map((function(e,t){return Object(P.jsx)(z,{citiesGroup:e},t)}))})})},J=function(){var e=[[{name:"Barcelona",img:"./assets/barcelona.jpg",id:1},{name:"Buenos Aires",img:"./assets/buenosaires.jpg",id:2},{name:"Berlin",img:"./assets/berlin.jpg",id:3},{name:"Paris",img:"./assets/paris.jpg",id:4}],[{name:"New York",img:"./assets/newyork.jpg",id:5},{name:"San Andres",img:"./assets/sanandres.jpeg",id:6},{name:"Santorini",img:"./assets/santorini.jpg",id:7},{name:"Tokyo",img:"./assets/tokyo.jpg",id:8}],[{name:"Abu Dhabi",img:"./assets/abudhabi.jpg",id:9},{name:"Miami",img:"./assets/miami.jpg",id:10},{name:"London",img:"./assets/london.jpg",id:11},{name:"Sydney",img:"./assets/sydney.jpg",id:12}]],t=[];e.map((function(e){var n=e.slice(0,2),a=e.slice(-2);return t.push(n,a)}));var n=window.screen.width<650?t:e;return Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{className:"titSlider",children:"Popular MYtineraries"}),Object(P.jsx)(q,{carrouselSize:n})]})},K=function(){var e=Object(w.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Q=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(K,{}),Object(P.jsx)(Y,{}),Object(P.jsx)(J,{})]})}}]),n}(r.a.Component),Z=function(){return Object(P.jsx)("div",{className:"preloaderContainer",children:Object(P.jsxs)("div",{className:"sk-chase",children:[Object(P.jsx)("div",{className:"sk-chase-dot"}),Object(P.jsx)("div",{className:"sk-chase-dot"}),Object(P.jsx)("div",{className:"sk-chase-dot"}),Object(P.jsx)("div",{className:"sk-chase-dot"}),Object(P.jsx)("div",{className:"sk-chase-dot"}),Object(P.jsx)("div",{className:"sk-chase-dot"})]})})},$=function(e){var t=e.city,n=t.name,a=t.img,r=t.country,s=t.phrase,c=t._id;return Object(P.jsx)(I.b,{to:"/itineraries/".concat(c),children:Object(P.jsxs)("div",{className:"cardCity",style:{backgroundImage:"url('".concat(a,"')")},children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{children:s}),Object(P.jsxs)("span",{children:[Object(P.jsx)("span",{children:n+", "}),Object(P.jsx)("span",{style:{fontWeight:"600"},children:r})]})]}),Object(P.jsx)("p",{children:n})]})})},ee={allCities:function(){return function(e,t){L.a.get(F+"/cities").then((function(t){t.data.success?e({type:"ALL_CITIES",payload:{citiesArray:t.data.response,citiesFiltered:t.data.response,loading:!1,error:!1}}):e({type:"ERROR_CITY",payload:!0})})).catch((function(t){return e({type:"ERROR_CITY",payload:!0})}))}},filterCity:function(e){return function(t,n){t({type:"FILTER_CITY",payload:e})}}},te={loadAllCities:ee.allCities,filterCity:ee.filterCity},ne=Object(o.b)((function(e){return{citiesFiltered:e.cityReducer.citiesFiltered,loading:e.cityReducer.loading}}),te)((function(e){var t=e.loadAllCities,n=e.filterCity,r=e.loading,s=e.citiesFiltered;return Object(a.useEffect)((function(){t()}),[]),Object(P.jsx)(P.Fragment,{children:r?Object(P.jsx)(Z,{}):Object(P.jsxs)("div",{className:"citiesContainer",children:[Object(P.jsx)("div",{className:"filterContainer",children:Object(P.jsx)("input",{className:"cityFilter",placeholder:"What is the destination of your dreams?",onChange:function(e){return n(e.target.value)}})}),0===s.length?Object(P.jsxs)("div",{className:"notCities",style:{backgroundImage:"url('/assets/pattern.png')"},children:[Object(P.jsx)("span",{className:"fas fa-suitcase-rolling img"}),Object(P.jsx)("p",{children:"The destination you are looking for is not available yet!"})]}):s.map((function(e){return Object(P.jsx)($,{city:e},e._id)}))]})})})),ae=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(K,{}),Object(P.jsx)("div",{className:"citiesHero",style:{backgroundImage:"url('/assets/cities.jpg')"},children:Object(P.jsx)("div",{className:"logo",children:Object(P.jsx)("div",{className:"logo-img",style:{backgroundImage:"url('/assets/logotype.png')"}})})}),Object(P.jsx)(ne,{})]})}}]),n}(r.a.Component),re=n(11),se=n(30),ce=n.n(se),ie={signUpUser:M.signUpUser,getCountries:M.getCountries},oe=Object(o.b)(null,ie)((function(e){var t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userPic:"",country:""}),n=Object(S.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)({}),i=Object(S.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)({countries:[],preloader:!0}),j=Object(S.a)(u,2),p=j[0],m=j[1],b=Object(a.useState)(!0),O=Object(S.a)(b,2),h=O[0],x=O[1],f=r.firstName,g=r.lastName,y=r.email,v=r.password,C=r.userPic,N=r.country,k=h?"fas fa-eye passwordEye":"fas fa-eye-slash passwordEye",w=h?"password":"text";Object(a.useEffect)((function(){e.getCountries().then((function(e){return m({countries:e,preloader:!1})})).catch((function(e){return console.log(e)}))}),[]);var E=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))},R=function(){var t=Object(_.a)(A.a.mark((function t(){var n,a,r,c=arguments;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1?c[1]:void 0,n&&n.preventDefault(),Object.values(a).some((function(e){return""===e}))){t.next=10;break}return t.next=6,e.signUpUser(a);case 6:(r=t.sent)?(l({}),r.details.map((function(e){return l((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(re.a)({},e.context.label,e.message))}))}))):n&&s({firstName:"",lastName:"",email:"",password:"",userPic:"",country:""}),t.next=11;break;case 10:T.store.addNotification({title:"Error",message:"Please complete all the fields to continue!",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(e){var t=e.profileObj,n=t.givenName,a=t.familyName,r=t.email,s=t.googleId,c=t.imageUrl;R(null,{firstName:n,lastName:a,email:r,password:"l"+s,userPic:c,country:"Narnia"})};return p.preloader,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{height:"10vh"}}),Object(P.jsxs)("div",{className:"formContainer",children:[Object(P.jsx)("div",{className:"singUpImg",style:{backgroundImage:"url('/assets/signup.jpg')"},children:Object(P.jsx)("div",{className:"signUpImgContainer",children:Object(P.jsxs)("div",{className:"callToActionContainer",children:[Object(P.jsx)("h3",{children:"Welcome"}),Object(P.jsxs)("div",{className:"callToActionSignIn",children:[Object(P.jsx)("span",{children:"Already have an account? "}),Object(P.jsx)(I.b,{to:"/user/signin",children:Object(P.jsx)("button",{children:"Sign In"})})]}),Object(P.jsxs)("span",{className:"callToActionResponsive",children:["Already have an account? ",Object(P.jsx)(I.b,{to:"/user/signin",children:"Sign in here!"})]})]})})}),Object(P.jsxs)("form",{className:"form",children:[Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:"text",placeholder:"First Name",name:"firstName",value:f,onChange:E}),Object(P.jsx)("span",{className:"errorSignUp",children:o.firstName})]}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:"text",placeholder:"Last Name",name:"lastName",value:g,onChange:E}),Object(P.jsx)("span",{className:"errorSignUp",children:o.lastName})]}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:y,onChange:E}),Object(P.jsx)("span",{className:"errorSignUp",children:o.email})]}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:w,placeholder:"Password",name:"password",value:v,onChange:E}),Object(P.jsx)("span",{className:k,onClick:function(){return x(!h)}}),Object(P.jsx)("span",{className:"errorSignUp",children:o.password})]}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:"text",placeholder:"Picture (Url)",name:"userPic",value:C,onChange:E}),Object(P.jsx)("span",{className:"errorSignUp",children:o.userPic})]}),Object(P.jsxs)("select",{name:"country",value:N,onChange:E,children:[Object(P.jsx)("option",{disabled:!0,defaultValue:!0,value:"",children:"Countries"}),p.countries.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))]}),Object(P.jsx)("span",{children:o.country}),Object(P.jsx)("button",{className:"signButton",onClick:function(e){return R(e,r)},children:"Sign Up"}),Object(P.jsx)("span",{className:"or",children:" - or - "}),Object(P.jsx)(ce.a,{className:"googleButton",clientId:"970781340482-k7vb4liqmeip3ti8kd0gmf87ik8j0785.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:L,onFailure:L,cookiePolicy:"single_host_origin"})]})]})]})})),le={signInUSer:M.signInUSer},de=Object(o.b)(null,le)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(S.a)(t,2),r=n[0],s=n[1],c=r.email,i=r.password,o=Object(a.useState)(!0),l=Object(S.a)(o,2),u=l[0],j=l[1],p=u?"fas fa-eye passwordEye":"fas fa-eye-slash passwordEye",m=u?"password":"text",b=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;t&&t.preventDefault(),n.email&&n.password?(e.signInUSer(n),t&&s({email:"",password:""})):T.store.addNotification({title:"Error",message:"Please complete the fields to continue!",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}})},h=function(e){var t=e.profileObj,n=t.email,a=t.googleId;O(null,{email:n,password:"l"+a})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{height:"10vh"}}),Object(P.jsxs)("div",{className:"formContainerSignIn",children:[Object(P.jsx)("div",{className:"singUpImg",style:{backgroundImage:"url('/assets/signin.jpg')"},children:Object(P.jsx)("div",{className:"signUpImgContainer",children:Object(P.jsxs)("div",{className:"callToActionContainer",children:[Object(P.jsx)("h3",{children:"Hello, Friend!"}),Object(P.jsxs)("div",{className:"callToActionSignIn",children:[Object(P.jsx)("span",{children:"Don't have an account yet?  "}),Object(P.jsx)(I.b,{to:"/user/signup",children:Object(P.jsx)("button",{children:"Sign Up"})})]}),Object(P.jsxs)("span",{className:"callToActionResponsive",children:["Don't have an account yet? ",Object(P.jsx)(I.b,{to:"/user/signup",children:"Sign up here!"})]})]})})}),Object(P.jsxs)("form",{className:"form",children:[Object(P.jsx)("div",{className:"inputContainer",children:Object(P.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:c,onChange:b})}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("input",{type:m,placeholder:"Password",name:"password",value:i,onChange:b}),Object(P.jsx)("span",{className:p,onClick:function(){return j(!u)}})]}),Object(P.jsx)("div",{className:"separatorFormSignIn"}),Object(P.jsx)("button",{className:"signButton",onClick:function(e){return O(e,r)},children:"Sign In"}),Object(P.jsx)("span",{className:"or",children:" - or - "}),Object(P.jsx)(ce.a,{className:"googleButton",clientId:"970781340482-k7vb4liqmeip3ti8kd0gmf87ik8j0785.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"})]})]})]})})),ue={getAllElements:function(e){return function(t,n){L.a.get(F+"/".concat(e)).then((function(e){return t({type:"GET_ELEMENTS",payload:{arrayOf:e.data.response,preloader:!1}})}))}},sendNewElement:function(e,t){return function(n,a){L.a.post(F+"/".concat(e),t).then((function(e){return n({type:"ADD_ELEMENT",payload:{arrayOf:e.data.response}})}))}},deleteElement:function(e,t){return function(n,a){L.a.delete(F+"/".concat(e,"/").concat(t)).then((function(e){n({type:"DELETE_ELEMENT",payload:e.data.response})}))}},modifyElement:function(e,t,n){return function(a,r){L.a.put(F+"/".concat(e,"/").concat(t),n).then((function(e){a({type:"MODIFY_ELEMENT",payload:e.data.response})}))}},cleanAdminStore:function(){return function(e,t){e({type:"CLEAN",payload:{arrayOf:[],preloader:!0,citiesArrayOrItineraries:[],preloaderCityOrIti:!0}})}},getForSelect:function(e){return function(t,n){L.a.get(F+"/".concat(e)).then((function(e){return t({type:"ALL_CITIES_OR_ITINERARIES",payload:{citiesArrayOrItineraries:e.data.response,preloaderCityOrIti:!1,preloader:!1}})}))}}},je={deleteCity:ue.deleteElement,modifyCity:ue.modifyElement},pe=Object(o.b)(null,je)((function(e){var t=e.city,n=t.name,r=t.country,s=t.img,c=t.phrase,i=t._id,o=Object(a.useState)(!1),l=Object(S.a)(o,2),u=l[0],j=l[1],p=Object(a.useState)(!1),m=Object(S.a)(p,2),b=m[0],O=m[1],h=Object(a.useState)(),x=Object(S.a)(h,2),f=x[0],g=x[1],y=b?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",v=function(e){g(Object(d.a)(Object(d.a)({},f),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminCard",children:[Object(P.jsxs)("div",{className:"adminCardHeader",children:[Object(P.jsx)("span",{className:y,onClick:function(){return O(!b)}}),Object(P.jsx)("h4",{children:n}),Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"adminCarEditDelete",children:[Object(P.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return j(!u)}}),Object(P.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteCity("city",i)}})]})})]}),Object(P.jsxs)("div",{className:"adminCardInfo",style:{display:b?"flex":"none"},children:[Object(P.jsxs)("div",{className:"adminCardFields",children:[Object(P.jsx)("span",{children:"Name:"}),Object(P.jsx)("span",{children:"Country:"}),Object(P.jsx)("span",{children:"Img:"}),Object(P.jsx)("span",{children:"Phrase:"})]}),Object(P.jsxs)("div",{style:{display:u?"none":"flex"},className:"adminElementInfo",children:[Object(P.jsx)("span",{children:n}),Object(P.jsx)("span",{children:r}),Object(P.jsx)("span",{children:s}),Object(P.jsx)("span",{children:c})]}),Object(P.jsxs)("form",{style:{display:u?"flex":"none"},children:[Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"text",placeholder:n,name:"name",onChange:v}),"  "]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"text",placeholder:r,name:"country",onChange:v}),"    "]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:v}),"    "]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"text",placeholder:c,name:"phrase",onChange:v}),"  "]})]}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyCity("city",i,f),j(!1)},style:{display:u?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})})),me={loadAllCities:ue.getAllElements,sendNewCity:ue.sendNewElement,cleanAdminStore:ue.cleanAdminStore},be=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader}}),me)((function(e){var t=Object(a.useState)({name:"",img:"",country:"",phrase:""}),n=Object(S.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(a.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("cities"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminSection",children:[Object(P.jsxs)("div",{className:"adminTitle",children:[Object(P.jsx)("h2",{children:"Cities"}),Object(P.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add city"})]}),e.preloader?Object(P.jsx)(Z,{}):e.allCities.map((function(e,t){return Object(P.jsx)(pe,{city:e},e._id)})),Object(P.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(P.jsxs)("form",{children:[Object(P.jsx)("span",{children:"Complete to add new city"}),Object(P.jsx)("input",{type:"text",placeholder:"City name",name:"name",value:r.name,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Country",name:"country",value:r.country,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Phrase",name:"phrase",value:r.phrase,onChange:u}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("cities",r),s({name:"",img:"",country:"",phrase:""})},children:"Send new"})]})})]})})),Oe={deleteItinerary:ue.deleteElement,modifyItinerary:ue.modifyElement},he=Object(o.b)((function(e){return{citiesArray:e.adminReducer.citiesArrayOrItineraries}}),Oe)((function(e){var t=e.city,n=t._id,r=t.title,s=t.img,c=t.authorName,i=t.authorPic,o=t.price,l=t.duration,u=t.hashtags,j=t.cityId,p=Object(a.useState)(!1),m=Object(S.a)(p,2),b=m[0],O=m[1],h=Object(a.useState)(!1),x=Object(S.a)(h,2),f=x[0],g=x[1],y=Object(a.useState)(),v=Object(S.a)(y,2),C=v[0],N=v[1],k=f?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",I=function(e){if("hashtags"===e.target.name){var t=e.target.value.split(" ");N(Object(d.a)(Object(d.a)({},C),{},Object(re.a)({},e.target.name,t)))}else N(Object(d.a)(Object(d.a)({},C),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminCard",children:[Object(P.jsxs)("div",{className:"adminCardHeader",children:[Object(P.jsx)("span",{className:k,onClick:function(){return g(!f)}}),Object(P.jsx)("h4",{children:r}),Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"adminCarEditDelete",children:[Object(P.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return O(!b)}}),Object(P.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteItinerary("itinerary",n)}})]})})]}),Object(P.jsxs)("div",{className:"adminCardInfo",style:{display:f?"flex":"none"},children:[Object(P.jsxs)("div",{className:"adminCardFields",children:[Object(P.jsx)("span",{children:"Title:"}),Object(P.jsx)("span",{children:"Img:"}),Object(P.jsx)("span",{children:"Author name:"}),Object(P.jsx)("span",{children:"Author pic:"}),Object(P.jsx)("span",{children:"Price:"}),Object(P.jsx)("span",{children:"Duration:"}),Object(P.jsx)("span",{children:"Hashtags:"}),Object(P.jsx)("span",{children:"City:"})]}),Object(P.jsxs)("div",{style:{display:b?"none":"flex"},className:"adminElementInfo",children:[Object(P.jsx)("span",{children:r}),Object(P.jsx)("span",{children:s}),Object(P.jsx)("span",{children:c}),Object(P.jsx)("span",{children:i}),Object(P.jsx)("span",{children:o}),Object(P.jsx)("span",{children:l}),Object(P.jsx)("span",{children:u}),void 0!==j&&Object(P.jsx)("span",{children:j.name})]}),Object(P.jsxs)("form",{style:{display:b?"flex":"none"},children:[Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:r,name:"title",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:c,name:"authorName",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:i,name:"authorPic",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:o,name:"price",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:l,name:"duration",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:u,name:"hashtags",onChange:I})}),Object(P.jsx)("span",{children:Object(P.jsxs)("select",{name:"cityId",onChange:I,children:[Object(P.jsx)("option",{selected:!0,disabled:!0,children:"Select a City"}),e.citiesArray.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyItinerary("itinerary",n,C),O(!1)},style:{display:b?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})]})})),xe={loadAllCities:ue.getAllElements,sendNewCity:ue.sendNewElement,getAllCities:ue.getForSelect,cleanAdminStore:ue.cleanAdminStore},fe=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader,preloaderCity:e.adminReducer.preloaderCityOrIti,citiesArray:e.adminReducer.citiesArrayOrItineraries}}),xe)((function(e){var t=Object(a.useState)({title:"",img:"",authorName:"",authorPic:"",price:"",duration:"",likes:"",hashtags:[],cityId:""}),n=Object(S.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(a.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("itineraries"),e.getAllCities("cities"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){if("hashtags"===e.target.name){var t=e.target.value.split(" ");s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,t)))}else s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminSection",children:[Object(P.jsxs)("div",{className:"adminTitle",children:[Object(P.jsx)("h2",{children:"Itineraries"}),Object(P.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add itinerary"})]}),e.preloader?Object(P.jsx)(Z,{}):e.allCities.map((function(e,t){return Object(P.jsx)(he,{city:e},e._id)})),Object(P.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(P.jsxs)("form",{children:[Object(P.jsx)("span",{children:"Complete to add new Itinerary"}),Object(P.jsx)("input",{type:"text",placeholder:"Itinerary title",name:"title",value:r.title,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Name of Author",name:"authorName",value:r.authorName,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Pic of Author",name:"authorPic",value:r.authorPic,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Price",name:"price",value:r.price,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Duration",name:"duration",value:r.duration,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Hashtags",name:"hashtags",value:r.hashtags.length>1?r.hashtags.join(" "):r.hashtags,onChange:u}),Object(P.jsxs)("select",{name:"cityId",onChange:u,children:[Object(P.jsx)("option",{selected:!0,defaultValue:!0,value:"",disabled:!0,children:"City of Itinerary"}),e.citiesArray.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("itineraries",r),s({title:"",img:"",authorName:"",authorPic:"",price:"",duration:"",likes:"",hashtags:"",cityId:""})},children:"Send new"})]})})]})})),ge={deleteItinerary:ue.deleteElement,modifyItinerary:ue.modifyElement},ye=Object(o.b)((function(e){return{itinerariesArray:e.adminReducer.citiesArrayOrItineraries}}),ge)((function(e){var t=e.activity,n=t._id,r=t.name,s=t.img,c=t.itineraryId,i=Object(a.useState)(!1),o=Object(S.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)(!1),p=Object(S.a)(j,2),m=p[0],b=p[1],O=Object(a.useState)(),h=Object(S.a)(O,2),x=h[0],f=h[1],g=m?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",y=function(e){f(Object(d.a)(Object(d.a)({},x),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminCard",children:[Object(P.jsxs)("div",{className:"adminCardHeader",children:[Object(P.jsx)("span",{className:g,onClick:function(){return b(!m)}}),Object(P.jsx)("h4",{children:r}),Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"adminCarEditDelete",children:[Object(P.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return u(!l)}}),Object(P.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteItinerary("activities",n)}})]})})]}),Object(P.jsxs)("div",{className:"adminCardInfo",style:{display:m?"flex":"none"},children:[Object(P.jsxs)("div",{className:"adminCardFields",children:[Object(P.jsx)("span",{children:"Title:"}),Object(P.jsx)("span",{children:"Img:"}),Object(P.jsx)("span",{children:"Itinerary:"})]}),Object(P.jsxs)("div",{style:{display:l?"none":"flex"},className:"adminElementInfo",children:[Object(P.jsx)("span",{children:r}),Object(P.jsx)("span",{children:s}),void 0!==c&&Object(P.jsx)("span",{children:c.title})]}),Object(P.jsxs)("form",{style:{display:l?"flex":"none"},children:[Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:r,name:"name",onChange:y})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:y})}),Object(P.jsx)("span",{children:Object(P.jsxs)("select",{name:"itineraryId",onChange:y,children:[Object(P.jsx)("option",{selected:!0,defaultValue:!0,disabled:!0,children:"Select a itinerary"}),e.itinerariesArray.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.title},e._id)}))]})}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyItinerary("activities",n,x),u(!1)},style:{display:l?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})]})})),ve={loadAllCities:ue.getAllElements,sendNewCity:ue.sendNewElement,getAllCities:ue.getForSelect,cleanAdminStore:ue.cleanAdminStore},Ce=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader,preloaderCity:e.adminReducer.preloaderCityOrIti,itinerariesArray:e.adminReducer.citiesArrayOrItineraries}}),ve)((function(e){var t=Object(a.useState)({name:"",img:"",itineraryId:""}),n=Object(S.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(a.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("activities"),e.getAllCities("itineraries"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(re.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)("div",{className:"adminSection",children:[Object(P.jsxs)("div",{className:"adminTitle",children:[Object(P.jsx)("h2",{children:"Activities"}),Object(P.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add activity"})]}),e.preloader&&e.preloaderCity?Object(P.jsx)(Z,{}):e.allCities.map((function(e,t){return Object(P.jsx)(ye,{activity:e},e._id)})),Object(P.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(P.jsxs)("form",{children:[Object(P.jsx)("span",{children:"Complete to add new Activity"}),Object(P.jsx)("input",{type:"text",placeholder:"Activity title",name:"name",value:r.name,onChange:u}),Object(P.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(P.jsxs)("select",{name:"itineraryId",onChange:u,children:[Object(P.jsx)("option",{selected:!0,defaultValue:!0,value:"",disabled:!0,children:"Itinerary of Activity"}),e.itinerariesArray.map((function(e){return Object(P.jsx)("option",{value:e._id,children:e.title},e._id)}))]}),Object(P.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("activities",r),s({name:"",img:"",itineraryId:""})},children:"Send new"})]})})]})})),Ne=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=Object(P.jsx)(be,{}),e}return Object(C.a)(n,[{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{height:"9vh"}}),Object(P.jsxs)("div",{className:"adminContainer",children:[Object(P.jsxs)("div",{className:"adminNav",children:[Object(P.jsx)("span",{onClick:function(){return e.setState(Object(P.jsx)(be,{}))},children:"Cities"}),Object(P.jsx)("span",{onClick:function(){return e.setState(Object(P.jsx)(fe,{}))},children:"Itineraries"}),Object(P.jsx)("span",{onClick:function(){return e.setState(Object(P.jsx)(Ce,{}))},children:"Activities"})]}),this.state]})]})}}]),n}(r.a.Component),ke=function(){var e=Object(_.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:n,type:a,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ie={getItineraries:function(e){return function(t,n){L.a.get(F+"/itineraries/"+e).then((function(e){e.data.success?t({type:"GET_ITINERARIES",payload:{selectedItineraries:e.data.response,error:!1,preloader:!1}}):t({type:"ERROR_ITINERARY",payload:{error:!0,preloader:!1}})})).catch((function(e){return ke("Error","An error happened, please reload the page!","danger")}))}},getOneCity:function(e){return function(t,n){L.a.get(F+"/city/"+e).then((function(e){e.data.success?t({type:"GET_ONECITY",payload:{oneCity:e.data.response,error:!1,preloader:!1}}):t({type:"ERROR_ITINERARY",payload:{error:!0,preloader:!1}})})).catch((function(e){return ke("Error","An error happened, please reload the page!","danger")}))}},removeItineraries:function(){return function(e,t){e({type:"REMOVE_ITINERARIES",payload:{selectedItineraries:[],preloader:!0}})}},checkUser:function(e,t){return function(){var n=Object(_.a)(A.a.mark((function n(a,r){var s;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.get(F+"/checkuser/"+e,{headers:{Authorization:"Bearer "+t.token}});case 3:if(!(s=n.sent).data.success){n.next=8;break}return n.abrupt("return",s.data.response);case 8:ke("Error",s.data.error,"danger");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),ke("Error","Internal server error, please try later!","danger");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},likeItinerary:function(e,t){return function(){var n=Object(_.a)(A.a.mark((function n(a,r){var s;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.get(F+"/like/"+e,{headers:{Authorization:"Bearer "+t.token}});case 3:if(!(s=n.sent).data.success){n.next=8;break}return n.abrupt("return",s.data.response);case 8:ke("Error",s.data.error,"danger");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),ke("Error","Internal server error, please try later!","danger");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},getActivities:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n,a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get(F+"/activities/"+e);case 3:if(!(r=t.sent).data.success){t.next=8;break}return t.abrupt("return",r.data.response);case 8:ke("Error",r.data.error,"danger");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),ke("Error","Internal server error, please try later!","danger");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}},we=function(){var e=Object(_.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:n,type:a,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Se={sendNewComment:function(e,t,n){return function(){var a=Object(_.a)(A.a.mark((function a(r,s){var c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.post(F+"/comments/"+t,n,{headers:{Authorization:"Bearer "+e}});case 3:if(!(c=a.sent).data.success){a.next=8;break}return a.abrupt("return",c.data);case 8:we("Error",c.data.error,"danger");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("error");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},deleteComment:function(e,t){return function(){var n=Object(_.a)(A.a.mark((function n(a,r){var s;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.delete(F+"/comment/"+t,{headers:{Authorization:"Bearer "+e}});case 3:if(!(s=n.sent).data.success){n.next=8;break}return n.abrupt("return",s.data.response);case 8:we("Error",s.data.error,"danger");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},editComment:function(e,t,n){return function(){var a=Object(_.a)(A.a.mark((function a(r,s){var c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.put(F+"/comment/"+t,n,{headers:{Authorization:"Bearer "+e}});case 3:if(!(c=a.sent).data.success){a.next=8;break}return a.abrupt("return",c.data.response);case 8:we("Error",c.data.error,"danger");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("error");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}},Ee=function(e){var t=e.activity,n=t.name,a=t.img;return Object(P.jsx)("div",{className:"activity",style:{backgroundImage:"url('".concat(a,"')")},children:Object(P.jsx)("span",{className:"activityTitle",children:n})})},Ae={deleteComment:Se.deleteComment,editComment:Se.editComment},_e=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}),Ae)((function(e){var t=e.comment,n=e.setCommentsState,r=e.deleteComment,s=e.editComment,c=e.userLogged,i=e.userChecked,o=t._id,l=t.userName,d=t.userPic,u=t.text,j=Object(a.useState)({text:u}),p=Object(S.a)(j,2),m=p[0],b=p[1],O=Object(a.useState)(!1),h=Object(S.a)(O,2),x=h[0],f=h[1],g=Object(a.useState)(!1),y=Object(S.a)(g,2),v=y[0],C=y[1],N=x?"block":"none",k=i.some((function(e){return e===o})),I=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),e.next=3,r(c.token,o);case 3:t=e.sent,n(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(c.token,o,m);case 2:t=e.sent,n(t),f(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"comment",children:[Object(P.jsx)("div",{className:"userPicComment",style:{backgroundImage:"url(".concat(d,")")}}),Object(P.jsxs)("div",{className:"commentNameText",children:[Object(P.jsx)("span",{className:"commentsUserName",children:l}),Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{style:{display:x?"none":"block"},children:u}),Object(P.jsx)("textarea",{className:"textAreaEditComment",value:m.text,onChange:function(e){b({text:e.target.value})},style:{display:N},rows:"3",children:"Hola"}),Object(P.jsx)("button",{onClick:w,style:{display:N},children:"Confirm"})]})]}),Object(P.jsxs)("div",{className:"commentsButtons",style:{display:k?"flex":"none"},children:[Object(P.jsx)("span",{className:"fas fa-edit commentEditButton",onClick:function(){return f(!x)}}),Object(P.jsx)("span",{className:"fas fa-trash-alt commentDeleteButton",onClick:function(){return C(!0)}})]}),Object(P.jsx)("div",{className:v?"deleteCommentModalOpen":"deleteCommentModalClose",children:Object(P.jsxs)("div",{className:"deleteComment",children:[Object(P.jsx)("p",{children:"Are you sure you want to delete this comment? This cannot be undone."}),Object(P.jsxs)("div",{className:"deleteCommentButtons",children:[Object(P.jsx)("button",{onClick:function(){return C(!1)},children:"Cancel"}),Object(P.jsx)("button",{onClick:I,children:"Delete"})]})]})})]})})),Re={sendNewComment:Se.sendNewComment,likeItinerary:Ie.likeItinerary,checkUser:Ie.checkUser,getActivities:Ie.getActivities},Le=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}),Re)((function(e){var t=e.itinerary,n=e.sendNewComment,r=e.userLogged,s=e.likeItinerary,c=e.checkUser,i=e.getActivities,o=t._id,l=t.title,u=t.authorName,j=t.authorPic,p=t.price,m=t.duration,b=t.likes,O=t.hashtags,h=t.img,x=t.comments,f=Object(a.useState)([]),g=Object(S.a)(f,2),y=g[0],v=g[1],C=Object(a.useState)(!1),N=Object(S.a)(C,2),k=N[0],I=N[1],w=Object(a.useState)(0),E=Object(S.a)(w,2),R=E[0],L=E[1],U=Object(a.useState)({likesCount:b,liked:!1,repeatLikeFilter:!1}),F=Object(S.a)(U,2),D=F[0],M=F[1],B=Object(a.useState)(x),H=Object(S.a)(B,2),G=H[0],Y=H[1],V=Object(a.useState)({text:""}),z=Object(S.a)(V,2),X=z[0],W=z[1],q=Object(a.useState)({activities:[],preloader:!0}),J=Object(S.a)(q,2),K=J[0],Q=J[1],$=D.liked?"fas fa-heart heart":"far fa-heart heart";Object(a.useEffect)((function(){te()}),[]);var ee=function(){var e=Object(_.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:n,type:a,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,c(o,r);case 3:t=e.sent,v(t.arrayOwnerCheck),t.likedChek&&M(Object(d.a)(Object(d.a)({},D),{},{liked:!0}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){for(var t=[],n=0;n<e;n++)t.push("e");return t},ae=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.repeatLikeFilter||!r){e.next=9;break}return e.next=3,M(Object(d.a)(Object(d.a)({},D),{},{repeatLikeFilter:!0,liked:!0}));case 3:return e.next=5,s(o,r);case 5:t=e.sent,M({likesCount:t.likes,liked:t.liked,repeatLikeFilter:!1}),e.next=10;break;case 9:r||ee("Alert","You need to be logged for like this itinerary!","info");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==X.text.length){e.next=4;break}ee("Error","Please complete the field to send a comment. ","danger"),e.next=14;break;case 4:if(!r){e.next=13;break}return e.next=7,n(r.token,o,X);case 7:t=e.sent,Y(t.response),W({text:""}),v(t.arrayOwnerCheck),e.next=14;break;case 13:ee("Alert","You need to be logged for comment this itinerary!","info");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!k),e.next=3,i(o);case 3:t=e.sent,Q({activities:t,preloader:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:k?"showItinerary":"itinerary",children:[Object(P.jsxs)("div",{className:"info",style:{backgroundImage:"url('".concat(h,"')")},children:[Object(P.jsx)("div",{className:"mouseMove",style:{transform:"rotate(".concat(R,"deg)"),transition:".1s"}}),Object(P.jsx)("div",{className:"titleSectionItinerary",onMouseMove:function(e){return function(e){var t=e.pageX;switch(t>200&&t<1150){case t>220&&t<260:L(-4);break;case t>300&&t<330:L(-3);break;case t>400&&t<430:L(-2);break;case t>500&&t<530:L(-1);break;case t>600&&t<630:L(0);break;case t>700&&t<730:L(1);break;case t>800&&t<830:L(2);break;case t>900&&t<930:L(3);break;case t>1e3&&t<1030:L(4)}}(e)},children:Object(P.jsx)("p",{className:"titleItinerary",children:l})}),Object(P.jsxs)("div",{className:"authorItinerary",children:[Object(P.jsx)("div",{className:"authorImg",style:{backgroundImage:"url(".concat(j,")")}}),Object(P.jsx)("p",{children:u})]}),Object(P.jsxs)("div",{className:"priceSection",children:[Object(P.jsxs)("span",{className:"text",children:["Price:",ne(p).map((function(e,t){return Object(P.jsx)("span",{className:"far fa-usd-circle price"},t)}))]}),Object(P.jsxs)("span",{className:"text",children:["Duration:",ne(m).map((function(e,t){return Object(P.jsx)("span",{className:"far fa-clock duration"},t)}))]}),Object(P.jsxs)("span",{className:"text",children:[Object(P.jsx)("span",{className:$,onClick:ae}),D.likesCount||""]})]}),Object(P.jsx)("div",{className:"hashtag",children:O.map((function(e,t){return Object(P.jsxs)("p",{children:["#",e]},t)}))})]}),Object(P.jsxs)("div",{className:k?"showDivOn":"showDivOff",children:[Object(P.jsx)("h4",{children:"Activities"}),K.preloader?Object(P.jsx)(Z,{}):Object(P.jsx)("div",{className:"activitiesContainer",children:K.activities.map((function(e){return Object(P.jsx)(Ee,{activity:e},e._id)}))}),Object(P.jsx)("h4",{children:"Comments"}),Object(P.jsx)("div",{className:"commentsItinerary",children:Object(P.jsx)("div",{children:G.map((function(e){return Object(P.jsx)(_e,{comment:e,commentsState:G,setCommentsState:Y,userChecked:y},e._id)}))})}),Object(P.jsxs)("div",{className:"newComment",children:[Object(P.jsx)("textarea",{value:X.text,onChange:function(e){W({text:e.target.value})},rows:"2",placeholder:"Write comment here..."}),Object(P.jsx)("button",{onClick:re,children:"Send"})]})]}),Object(P.jsx)("div",{className:"buttonShow",onClick:se,children:k?Object(P.jsxs)("span",{children:["View less ",Object(P.jsx)("span",{className:"fas fa-chevron-circle-up"})]}):Object(P.jsxs)("span",{children:["View more ",Object(P.jsx)("span",{className:"fas fa-chevron-circle-down",children:" "})]})})]})})),Te={loadSelectedItineraries:Ie.getItineraries,getOneCity:Ie.getOneCity,removeItineraries:Ie.removeItineraries},Ue=Object(o.b)((function(e){return{allCities:e.cityReducer.citiesArray,selectedItineraries:e.itineraryReducer.selectedItineraries,preloaderItinerary:e.itineraryReducer.preloader,oneCityBackup:e.itineraryReducer.oneCity,errorCity:e.cityReducer.error,errorItinerary:e.itineraryReducer.error}}),Te)((function(e){var t=Object(a.useState)({oneCity:{},preloaderCity:!0,errorCity:!1}),n=Object(S.a)(t,2),r=n[0],s=n[1];Object(a.useEffect)((function(){return e.loadSelectedItineraries(e.match.params.id),e.allCities.length>0?s({oneCity:e.allCities.find((function(t){return t._id===e.match.params.id})),preloaderCity:!1,errorCity:e.errorCity}):e.getOneCity(e.match.params.id),function(){e.removeItineraries()}}),[]),Object(a.useEffect)((function(){void 0!==e.oneCityBackup&&0===e.allCities.length&&s(Object(d.a)(Object(d.a)({},r),{},{oneCity:e.oneCityBackup,preloaderCity:!1,errorCity:e.errorCity}))}),[e.oneCityBackup]);var c=r.oneCity,i=r.preloaderCity,o=r.errorCity;return i||e.preloaderItinerary?Object(P.jsx)(Z,{}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(K,{}),Object(P.jsxs)("div",{className:"itinerariesContainer",children:[Object(P.jsx)("div",{className:"cityItinerariesHero",style:{backgroundImage:"url('".concat(r.oneCity.img,"')")},children:Object(P.jsxs)("p",{className:"cityTitle",children:[" ",c.name]})}),o||e.errorItinerary?Object(P.jsx)("p",{children:"A database error happened "}):0===e.selectedItineraries.length?Object(P.jsxs)("div",{className:"noItineraries",style:{backgroundImage:"url('/assets/pattern.png')"},children:[Object(P.jsx)("div",{className:"divNoItineraries"}),Object(P.jsx)("p",{children:"Itineraries have not been added yet!"}),Object(P.jsx)("p",{children:"Come back soon!"})]}):e.selectedItineraries.map((function(e){return Object(P.jsx)(Le,{itinerary:e},e._id)})),Object(P.jsx)("div",{className:"cta-plane",children:Object(P.jsx)(I.b,{to:"/cities",children:Object(P.jsx)("button",{className:"cta",children:Object(P.jsx)("p",{children:"Back to Cities"})})})})]})]})})),Fe=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"footer",style:{backgroundImage:"url('/assets/footer.jpg')"},children:[Object(P.jsx)("div",{className:"footerFilter"}),Object(P.jsxs)("div",{className:"divFooter",children:[Object(P.jsx)("div",{className:"logo-footer",children:Object(P.jsx)("div",{className:"logo-img-footer",style:{backgroundImage:"url('/assets/logotype.png')"}})}),Object(P.jsxs)("div",{className:"navigation-social",children:[Object(P.jsxs)("div",{className:"linkFooter",children:[Object(P.jsx)("span",{className:"footerTitle",children:"Explore"}),Object(P.jsx)(H,{})]}),Object(P.jsxs)("div",{className:"contact",children:[Object(P.jsx)("span",{className:"footerTitle",children:"Contact"}),Object(P.jsxs)("div",{className:"contactIcon",children:[Object(P.jsxs)("span",{children:[Object(P.jsx)("i",{className:"fas fa-phone-alt"})," ",Object(P.jsx)("span",{className:"ubi-tel",children:"011 4976-3658"})]}),Object(P.jsxs)("span",{children:[Object(P.jsx)("i",{className:"fas fa-map-marker-alt"})," ",Object(P.jsx)("span",{className:"ubi-tel",children:"Av. Santa Fe 1123, Bs As, Argentina"})]})]})]}),Object(P.jsxs)("div",{className:"social",children:[Object(P.jsx)("span",{className:"footerTitle",children:"Social"}),Object(P.jsxs)("div",{className:"socialIcon",children:[Object(P.jsx)("span",{className:"fab fa-facebook"}),Object(P.jsx)("span",{className:"fab fa-instagram"}),Object(P.jsx)("span",{className:"fab fa-twitter"}),Object(P.jsx)("span",{className:"fab fa-whatsapp"})]})]})]})]}),Object(P.jsx)("div",{className:"copyright",children:Object(P.jsx)("span",{children:"\xa9Copyright  - All rights reserved - Lucas Cabezas"})})]})})},De=(n(111),function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){if(!this.props.userLogged&&localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("userLogged")),t=Object(d.a)(Object(d.a)({},e),{},{token:localStorage.getItem("token")});return this.props.signInLocalStorage(t),null}return this.props.userLogged&&this.props.checkAdmin(this.props.userLogged),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(U.a,{}),Object(P.jsxs)(I.a,{children:[Object(P.jsx)(G,{}),Object(P.jsxs)(w.d,{children:[Object(P.jsx)(w.b,{exact:!0,path:"/",component:Q}),Object(P.jsx)(w.b,{exact:!0,path:"/cities",component:ae}),!this.props.userLogged&&Object(P.jsx)(w.b,{path:"/user/signin",component:de}),!this.props.userLogged&&Object(P.jsx)(w.b,{path:"/user/signup",component:oe}),this.props.userLogged&&this.props.userAdm&&Object(P.jsx)(w.b,{exact:!0,path:"/admin",component:Ne}),Object(P.jsx)(w.b,{exact:!0,path:"/itineraries/:id",component:Ue}),Object(P.jsx)(w.a,{to:"/"})]}),Object(P.jsx)(Fe,{})]})]})}}]),n}(r.a.Component)),Me={signInLocalStorage:M.signInLocalStorage,checkAdmin:M.checkAdmin},Pe=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged,userAdm:e.authReducer.userAdm}}),Me)(De),Be=Object(i.d)(y,Object(i.a)(l.a));c.a.render(Object(P.jsx)(o.a,{store:Be,children:Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(Pe,{})})}),document.getElementById("root"))},59:function(e,t,n){},60:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.69087c9b.chunk.js.map