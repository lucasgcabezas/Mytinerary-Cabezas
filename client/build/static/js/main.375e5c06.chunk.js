(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(26),c=a.n(s),i=a(25),o=a(5),l=a(49),d=a(2),u={citiesArray:[],citiesFiltered:[],loading:!0,error:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_CITIES":return Object(d.a)(Object(d.a)({},e),t.payload);case"FILTER_CITY":return Object(d.a)(Object(d.a)({},e),{},{citiesFiltered:e.citiesArray.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.toLowerCase().trim())}))});case"ERROR_CITY":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});default:return e}},p={selectedItineraries:[],oneCity:{},preloader:!0,error:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":case"GET_ONECITY":case"ERROR_ITINERARY":case"REMOVE_ITINERARIES":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},b={arrayOf:[],citiesArrayOrItineraries:[],preloader:!0,preloaderCityOrIti:!0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ELEMENTS":case"ADD_ELEMENT":return Object(d.a)(Object(d.a)({},e),t.payload);case"DELETE_ELEMENT":return Object(d.a)(Object(d.a)({},e),{},{arrayOf:e.arrayOf.filter((function(e){return e._id!==t.payload._id}))});case"MODIFY_ELEMENT":return Object(d.a)(Object(d.a)({},e),{},{arrayOf:t.payload});case"ALL_CITIES_OR_ITINERARIES":case"CLEAN":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},O={userLogged:null,userAdm:!1},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("userLogged",JSON.stringify({firstName:t.payload.firstName,userPic:t.payload.userPic})),localStorage.setItem("token",t.payload.token),Object(d.a)(Object(d.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(d.a)(Object(d.a)({},e),{},{userLogged:null});case"CHECK_ADMIN":return Object(d.a)(Object(d.a)({},e),{},{userAdm:t.payload});default:return e}},f={allComments:[],idItineraryOfComments:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return t.payload;default:return e}},y=Object(i.c)({cityReducer:j,itineraryReducer:m,adminReducer:h,authReducer:x,commentReducer:g}),v=a(19),C=a(20),N=a(22),k=a(21),I=(a(59),a(60),a(9)),w=a(10),S=a(4),E=a(3),A=a.n(E),_=a(6),R=a(8),L=a.n(R),T=a(12),U=a.n(T),F=function(){var e=Object(_.a)(A.a.mark((function e(t,a,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:a,type:n,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),D={signUpUser:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(a,n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("https://cabezas-mytinerary.herokuapp.com/api/user/signup",e);case 3:if(!(r=t.sent).data.errorsValidator){t.next=8;break}return t.abrupt("return",r.data.errorsValidator);case 8:r.data.error?F("Error",r.data.error,"danger"):(a({type:"LOG_USER",payload:r.data.response}),F(r.data.response.firstName,"Welcome to Mytinerary!","success"));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),F("Error","Internal server error, please try later!","danger");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},signInUSer:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(a,n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("https://cabezas-mytinerary.herokuapp.com/api/user/signin",e);case 3:(r=t.sent).data.success?(a({type:"LOG_USER",payload:r.data.response}),F(r.data.response.firstName,"Welcome to Mytinerary!","success")):F("Oops",r.data.error,"danger"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),F("Error","Internal server error, please try later!","danger");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},signInLocalStorage:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(a,n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("https://cabezas-mytinerary.herokuapp.com/api/user/signinls",{headers:{Authorization:"Bearer "+e.token}});case 3:r=t.sent,a({type:"LOG_USER",payload:Object(d.a)(Object(d.a)({},r.data.response),{},{token:e.token})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&alert("Me parece que me est\xe1s queriendo cagar con un token falso...");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},signOut:function(){return function(){var e=Object(_.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F("Goodbye!","Hope to see you soon!","info"),t({type:"LOGOUT_USER"});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},getCountries:function(){return function(){var e=Object(_.a)(A.a.mark((function e(t,a){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://restcountries.eu/rest/v2/all");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),F("Error","Internal server error, please try later!","danger");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},checkAdmin:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(a,n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("https://cabezas-mytinerary.herokuapp.com/api/checkadmin",{headers:{Authorization:"Bearer "+e.token}});case 3:r=t.sent,a({type:"CHECK_ADMIN",payload:r.data.response}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}},M=a(0),P={signOut:D.signOut},B=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged,userAdmin:e.authReducer.userAdm}}),P)((function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(I.c,{exact:!0,to:"/",children:Object(M.jsx)("span",{className:"link",children:"Home"})}),Object(M.jsx)(I.c,{exact:!0,to:"/cities",children:Object(M.jsx)("span",{className:"link",children:"Cities"})}),e.userLogged?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("span",{className:"link",onClick:e.signOut,children:"Sign Out"})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(I.c,{exact:!0,to:"/user/signup",children:Object(M.jsx)("span",{className:"link",children:"Sign Up"})}),Object(M.jsx)(I.c,{exact:!0,to:"/user/signin",children:Object(M.jsx)("span",{className:"link",children:"Sign In"})})]}),e.userLogged&&e.userAdmin&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(I.c,{exact:!0,to:"/admin",children:Object(M.jsx)("span",{className:"link linkAdm",children:"Admin Panel"})})})]})})),z=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}))((function(e,t){var a=t.headerItineraries,r=Object(n.useState)({visible:!1}),s=Object(S.a)(r,2),c=s[0],i=s[1],o=window.screen.width<1024,l=e.userLogged?e.userLogged.userPic:"/assets/unlog.png";return Object(M.jsxs)("header",{className:a?"headerItinerary ":"header",children:[Object(M.jsx)("div",{className:"isologo",children:Object(M.jsxs)(I.b,{to:"/",children:[" ",Object(M.jsx)("div",{className:"isologo-img",style:{backgroundImage:"url('/assets/isotype.png')"}})," "]})}),Object(M.jsxs)("div",{className:"nav-unlog",children:[o?Object(M.jsxs)("div",{className:c.visible?"responsiveNavOpen":"responsiveNavClose",children:[" ",Object(M.jsx)(B,{})," "]}):Object(M.jsxs)("nav",{className:"navbar",children:[" ",Object(M.jsx)(B,{})," "]}),Object(M.jsx)("div",{className:"unlog",children:Object(M.jsx)("div",{className:"unlog-img",style:{backgroundImage:"url(".concat(l,")")}})}),Object(M.jsx)("div",{className:"toggleNav",onClick:function(){i({visible:!c.visible})},children:"\u2261"})]})]})})),H=function(){return Object(M.jsxs)("div",{className:"hero",children:[Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("div",{className:"logo-img",style:{backgroundImage:"url('./assets/logotype.png')"}})}),Object(M.jsx)("div",{className:"slogan",children:Object(M.jsx)("div",{children:Object(M.jsx)("h1",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})})}),Object(M.jsx)(I.b,{to:"/cities",children:Object(M.jsx)("div",{className:"cta-plane",children:Object(M.jsx)("button",{className:"cta",children:Object(M.jsx)("p",{children:"Your dream destination"})})})}),Object(M.jsx)("div",{className:"transitionHero"})]})},G=function(e){var t=e.oneCity;return Object(M.jsx)("div",{className:"citySlider",children:Object(M.jsx)("div",{className:"imgSlider",style:{backgroundImage:"url(".concat(t.img,")")},children:Object(M.jsx)("div",{className:"titImgSlider",children:Object(M.jsx)("h1",{className:"tit",children:t.name})})})})},Y=function(e){var t=e.citiesGroup;return Object(M.jsx)("div",{className:"carousel-cell",children:t.map((function(e){return Object(M.jsx)(G,{oneCity:e},e.id)}))})},V=a(50),X=a.n(V),W=function(e){var t=e.carrouselSize;return Object(M.jsx)("div",{className:"containerSlider",children:Object(M.jsx)(X.a,{className:"carousel",elementType:"div",options:{initialIndex:1,wrapAround:!0,autoPlay:!0},disableImagesLoaded:!1,reloadOnUpdate:!0,static:!0,children:t.map((function(e,t){return Object(M.jsx)(Y,{citiesGroup:e},t)}))})})},q=function(){var e=[[{name:"Barcelona",img:"./assets/barcelona.jpg",id:1},{name:"Buenos Aires",img:"./assets/buenosaires.jpg",id:2},{name:"Berlin",img:"./assets/berlin.jpg",id:3},{name:"Paris",img:"./assets/paris.jpg",id:4}],[{name:"New York",img:"./assets/newyork.jpg",id:5},{name:"San Andres",img:"./assets/sanandres.jpeg",id:6},{name:"Santorini",img:"./assets/santorini.jpg",id:7},{name:"Tokyo",img:"./assets/tokyo.jpg",id:8}],[{name:"Abu Dhabi",img:"./assets/abudhabi.jpg",id:9},{name:"Miami",img:"./assets/miami.jpg",id:10},{name:"London",img:"./assets/london.jpg",id:11},{name:"Sydney",img:"./assets/sydney.jpg",id:12}]],t=[];e.map((function(e){var a=e.slice(0,2),n=e.slice(-2);return t.push(a,n)}));var a=window.screen.width<650?t:e;return Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{className:"titSlider",children:"Popular MYtineraries"}),Object(M.jsx)(W,{carrouselSize:a})]})},J=function(){var e=Object(w.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},K=function(e){Object(N.a)(a,e);var t=Object(k.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{}),Object(M.jsx)(H,{}),Object(M.jsx)(q,{})]})}}]),a}(r.a.Component),Q=function(){return Object(M.jsx)("div",{className:"preloaderContainer",children:Object(M.jsxs)("div",{className:"sk-chase",children:[Object(M.jsx)("div",{className:"sk-chase-dot"}),Object(M.jsx)("div",{className:"sk-chase-dot"}),Object(M.jsx)("div",{className:"sk-chase-dot"}),Object(M.jsx)("div",{className:"sk-chase-dot"}),Object(M.jsx)("div",{className:"sk-chase-dot"}),Object(M.jsx)("div",{className:"sk-chase-dot"})]})})},Z=function(e){var t=e.city,a=t.name,n=t.img,r=t.country,s=t.phrase,c=t._id;return Object(M.jsx)(I.b,{to:"/itineraries/".concat(c),children:Object(M.jsxs)("div",{className:"cardCity",style:{backgroundImage:"url('".concat(n,"')")},children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{children:s}),Object(M.jsxs)("span",{children:[Object(M.jsx)("span",{children:a+", "}),Object(M.jsx)("span",{style:{fontWeight:"600"},children:r})]})]}),Object(M.jsx)("p",{children:a})]})})},$={allCities:function(){return function(e,t){L.a.get("https://cabezas-mytinerary.herokuapp.com/api/cities").then((function(t){t.data.success?e({type:"ALL_CITIES",payload:{citiesArray:t.data.response,citiesFiltered:t.data.response,loading:!1,error:!1}}):e({type:"ERROR_CITY",payload:!0})})).catch((function(t){return e({type:"ERROR_CITY",payload:!0})}))}},filterCity:function(e){return function(t,a){t({type:"FILTER_CITY",payload:e})}}},ee={loadAllCities:$.allCities,filterCity:$.filterCity},te=Object(o.b)((function(e){return{citiesFiltered:e.cityReducer.citiesFiltered,loading:e.cityReducer.loading}}),ee)((function(e){var t=e.loadAllCities,a=e.filterCity,r=e.loading,s=e.citiesFiltered;return Object(n.useEffect)((function(){t()}),[]),Object(M.jsx)(M.Fragment,{children:r?Object(M.jsx)(Q,{}):Object(M.jsxs)("div",{className:"citiesContainer",children:[Object(M.jsx)("div",{className:"filterContainer",children:Object(M.jsx)("input",{className:"cityFilter",placeholder:"What is the destination of your dreams?",onChange:function(e){return a(e.target.value)}})}),0===s.length?Object(M.jsxs)("div",{className:"notCities",style:{backgroundImage:"url('/assets/pattern.png')"},children:[Object(M.jsx)("span",{className:"fas fa-suitcase-rolling img"}),Object(M.jsx)("p",{children:"The destination you are looking for is not available yet!"})]}):s.map((function(e){return Object(M.jsx)(Z,{city:e},e._id)}))]})})})),ae=function(e){Object(N.a)(a,e);var t=Object(k.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{}),Object(M.jsx)("div",{className:"citiesHero",style:{backgroundImage:"url('/assets/cities.jpg')"},children:Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("div",{className:"logo-img",style:{backgroundImage:"url('/assets/logotype.png')"}})})}),Object(M.jsx)(te,{})]})}}]),a}(r.a.Component),ne=a(11),re=a(30),se=a.n(re),ce={signUpUser:D.signUpUser,getCountries:D.getCountries},ie=Object(o.b)(null,ce)((function(e){var t=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",userPic:"",country:""}),a=Object(S.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)({}),i=Object(S.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)({countries:[],preloader:!0}),j=Object(S.a)(u,2),p=j[0],m=j[1],b=Object(n.useState)(!0),h=Object(S.a)(b,2),O=h[0],x=h[1],f=r.firstName,g=r.lastName,y=r.email,v=r.password,C=r.userPic,N=r.country,k=O?"fas fa-eye passwordEye":"fas fa-eye-slash passwordEye",w=O?"password":"text";Object(n.useEffect)((function(){e.getCountries().then((function(e){return m({countries:e,preloader:!1})}))}),[]);var E=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,e.target.value)))},R=function(){var t=Object(_.a)(A.a.mark((function t(){var a,n,r,c=arguments;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1?c[1]:void 0,a&&a.preventDefault(),Object.values(n).some((function(e){return""===e}))){t.next=10;break}return t.next=6,e.signUpUser(n);case 6:(r=t.sent)?(l({}),r.details.map((function(e){return l((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(ne.a)({},e.context.label,e.message))}))}))):a&&s({firstName:"",lastName:"",email:"",password:"",userPic:"",country:""}),t.next=11;break;case 10:T.store.addNotification({title:"Error",message:"Please complete all the fields to continue!",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(e){var t=e.profileObj,a=t.givenName,n=t.familyName,r=t.email,s=t.googleId,c=t.imageUrl;R(null,{firstName:a,lastName:n,email:r,password:"l"+s,userPic:c,country:"Narnia"})};return p.preloader,Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{style:{height:"10vh"}}),Object(M.jsxs)("div",{className:"formContainer",children:[Object(M.jsx)("div",{className:"singUpImg",style:{backgroundImage:"url('/assets/signup.jpg')"},children:Object(M.jsx)("div",{className:"signUpImgContainer",children:Object(M.jsxs)("div",{className:"callToActionContainer",children:[Object(M.jsx)("h3",{children:"Welcome"}),Object(M.jsxs)("div",{className:"callToActionSignIn",children:[Object(M.jsx)("span",{children:"Already have an account? "}),Object(M.jsx)(I.b,{to:"/user/signin",children:Object(M.jsx)("button",{children:"Sign In"})})]}),Object(M.jsxs)("span",{className:"callToActionResponsive",children:["Already have an account? ",Object(M.jsx)(I.b,{to:"/user/signin",children:"Sign in here!"})]})]})})}),Object(M.jsxs)("form",{className:"form",children:[Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:"text",placeholder:"First Name",name:"firstName",value:f,onChange:E}),Object(M.jsx)("span",{className:"errorSignUp",children:o.firstName})]}),Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:"text",placeholder:"Last Name",name:"lastName",value:g,onChange:E}),Object(M.jsx)("span",{className:"errorSignUp",children:o.lastName})]}),Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:y,onChange:E}),Object(M.jsx)("span",{className:"errorSignUp",children:o.email})]}),Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:w,placeholder:"Password",name:"password",value:v,onChange:E}),Object(M.jsx)("span",{className:k,onClick:function(){return x(!O)}}),Object(M.jsx)("span",{className:"errorSignUp",children:o.password})]}),Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:"text",placeholder:"Picture (Url)",name:"userPic",value:C,onChange:E}),Object(M.jsx)("span",{className:"errorSignUp",children:o.userPic})]}),Object(M.jsxs)("select",{name:"country",value:N,onChange:E,children:[Object(M.jsx)("option",{disabled:!0,defaultValue:!0,value:"",children:"Countries"}),p.countries.map((function(e,t){return Object(M.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(M.jsx)("span",{children:o.country}),Object(M.jsx)("button",{className:"signButton",onClick:function(e){return R(e,r)},children:"Sign Up"}),Object(M.jsx)("span",{className:"or",children:" - or - "}),Object(M.jsx)(se.a,{className:"googleButton",clientId:"970781340482-k7vb4liqmeip3ti8kd0gmf87ik8j0785.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:L,onFailure:L,cookiePolicy:"single_host_origin"})]})]})]})})),oe={signInUSer:D.signInUSer},le=Object(o.b)(null,oe)((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(S.a)(t,2),r=a[0],s=a[1],c=r.email,i=r.password,o=Object(n.useState)(!0),l=Object(S.a)(o,2),u=l[0],j=l[1],p=u?"fas fa-eye passwordEye":"fas fa-eye-slash passwordEye",m=u?"password":"text",b=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,e.target.value)))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;t&&t.preventDefault(),a.email&&a.password?(e.signInUSer(a),t&&s({email:"",password:""})):T.store.addNotification({title:"Error",message:"Please complete the fields to continue!",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}})},O=function(e){var t=e.profileObj,a=t.email,n=t.googleId;h(null,{email:a,password:"l"+n})};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{style:{height:"10vh"}}),Object(M.jsxs)("div",{className:"formContainerSignIn",children:[Object(M.jsx)("div",{className:"singUpImg",style:{backgroundImage:"url('/assets/signin.jpg')"},children:Object(M.jsx)("div",{className:"signUpImgContainer",children:Object(M.jsxs)("div",{className:"callToActionContainer",children:[Object(M.jsx)("h3",{children:"Hello, Friend!"}),Object(M.jsxs)("div",{className:"callToActionSignIn",children:[Object(M.jsx)("span",{children:"Don't have an account yet?  "}),Object(M.jsx)(I.b,{to:"/user/signup",children:Object(M.jsx)("button",{children:"Sign Up"})})]}),Object(M.jsxs)("span",{className:"callToActionResponsive",children:["Don't have an account yet? ",Object(M.jsx)(I.b,{to:"/user/signup",children:"Sign up here!"})]})]})})}),Object(M.jsxs)("form",{className:"form",children:[Object(M.jsx)("div",{className:"inputContainer",children:Object(M.jsx)("input",{type:"text",placeholder:"Email",name:"email",value:c,onChange:b})}),Object(M.jsxs)("div",{className:"inputContainer",children:[Object(M.jsx)("input",{type:m,placeholder:"Password",name:"password",value:i,onChange:b}),Object(M.jsx)("span",{className:p,onClick:function(){return j(!u)}})]}),Object(M.jsx)("div",{className:"separatorFormSignIn"}),Object(M.jsx)("button",{className:"signButton",onClick:function(e){return h(e,r)},children:"Sign In"}),Object(M.jsx)("span",{className:"or",children:" - or - "}),Object(M.jsx)(se.a,{className:"googleButton",clientId:"970781340482-k7vb4liqmeip3ti8kd0gmf87ik8j0785.apps.googleusercontent.com",buttonText:"Sign In with Google",onSuccess:O,onFailure:O,cookiePolicy:"single_host_origin"})]})]})]})})),de={getAllElements:function(e){return function(t,a){L.a.get("https://cabezas-mytinerary.herokuapp.com/api/".concat(e)).then((function(e){return t({type:"GET_ELEMENTS",payload:{arrayOf:e.data.response,preloader:!1}})}))}},sendNewElement:function(e,t){return function(a,n){L.a.post("https://cabezas-mytinerary.herokuapp.com/api/".concat(e),t).then((function(e){return a({type:"ADD_ELEMENT",payload:{arrayOf:e.data.response}})}))}},deleteElement:function(e,t){return function(a,n){L.a.delete("https://cabezas-mytinerary.herokuapp.com/api/".concat(e,"/").concat(t)).then((function(e){a({type:"DELETE_ELEMENT",payload:e.data.response})}))}},modifyElement:function(e,t,a){return function(n,r){L.a.put("https://cabezas-mytinerary.herokuapp.com/api/".concat(e,"/").concat(t),a).then((function(e){n({type:"MODIFY_ELEMENT",payload:e.data.response})}))}},cleanAdminStore:function(){return function(e,t){e({type:"CLEAN",payload:{arrayOf:[],preloader:!0,citiesArrayOrItineraries:[],preloaderCityOrIti:!0}})}},getForSelect:function(e){return function(t,a){L.a.get("https://cabezas-mytinerary.herokuapp.com/api/".concat(e)).then((function(e){return t({type:"ALL_CITIES_OR_ITINERARIES",payload:{citiesArrayOrItineraries:e.data.response,preloaderCityOrIti:!1,preloader:!1}})}))}}},ue={deleteCity:de.deleteElement,modifyCity:de.modifyElement},je=Object(o.b)(null,ue)((function(e){var t=e.city,a=t.name,r=t.country,s=t.img,c=t.phrase,i=t._id,o=Object(n.useState)(!1),l=Object(S.a)(o,2),u=l[0],j=l[1],p=Object(n.useState)(!1),m=Object(S.a)(p,2),b=m[0],h=m[1],O=Object(n.useState)(),x=Object(S.a)(O,2),f=x[0],g=x[1],y=b?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",v=function(e){g(Object(d.a)(Object(d.a)({},f),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminCard",children:[Object(M.jsxs)("div",{className:"adminCardHeader",children:[Object(M.jsx)("span",{className:y,onClick:function(){return h(!b)}}),Object(M.jsx)("h4",{children:a}),Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"adminCarEditDelete",children:[Object(M.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return j(!u)}}),Object(M.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteCity("city",i)}})]})})]}),Object(M.jsxs)("div",{className:"adminCardInfo",style:{display:b?"flex":"none"},children:[Object(M.jsxs)("div",{className:"adminCardFields",children:[Object(M.jsx)("span",{children:"Name:"}),Object(M.jsx)("span",{children:"Country:"}),Object(M.jsx)("span",{children:"Img:"}),Object(M.jsx)("span",{children:"Phrase:"})]}),Object(M.jsxs)("div",{style:{display:u?"none":"flex"},className:"adminElementInfo",children:[Object(M.jsx)("span",{children:a}),Object(M.jsx)("span",{children:r}),Object(M.jsx)("span",{children:s}),Object(M.jsx)("span",{children:c})]}),Object(M.jsxs)("form",{style:{display:u?"flex":"none"},children:[Object(M.jsxs)("span",{children:[Object(M.jsx)("input",{type:"text",placeholder:a,name:"name",onChange:v}),"  "]}),Object(M.jsxs)("span",{children:[Object(M.jsx)("input",{type:"text",placeholder:r,name:"country",onChange:v}),"    "]}),Object(M.jsxs)("span",{children:[Object(M.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:v}),"    "]}),Object(M.jsxs)("span",{children:[Object(M.jsx)("input",{type:"text",placeholder:c,name:"phrase",onChange:v}),"  "]})]}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyCity("city",i,f),j(!1)},style:{display:u?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})})),pe={loadAllCities:de.getAllElements,sendNewCity:de.sendNewElement,cleanAdminStore:de.cleanAdminStore},me=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader}}),pe)((function(e){var t=Object(n.useState)({name:"",img:"",country:"",phrase:""}),a=Object(S.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("cities"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminSection",children:[Object(M.jsxs)("div",{className:"adminTitle",children:[Object(M.jsx)("h2",{children:"Cities"}),Object(M.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add city"})]}),e.preloader?Object(M.jsx)(Q,{}):e.allCities.map((function(e,t){return Object(M.jsx)(je,{city:e},e._id)})),Object(M.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(M.jsxs)("form",{children:[Object(M.jsx)("span",{children:"Complete to add new city"}),Object(M.jsx)("input",{type:"text",placeholder:"City name",name:"name",value:r.name,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Country",name:"country",value:r.country,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Phrase",name:"phrase",value:r.phrase,onChange:u}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("cities",r),s({name:"",img:"",country:"",phrase:""})},children:"Send new"})]})})]})})),be={deleteItinerary:de.deleteElement,modifyItinerary:de.modifyElement},he=Object(o.b)((function(e){return{citiesArray:e.adminReducer.citiesArrayOrItineraries}}),be)((function(e){var t=e.city,a=t._id,r=t.title,s=t.img,c=t.authorName,i=t.authorPic,o=t.price,l=t.duration,u=t.hashtags,j=t.cityId,p=Object(n.useState)(!1),m=Object(S.a)(p,2),b=m[0],h=m[1],O=Object(n.useState)(!1),x=Object(S.a)(O,2),f=x[0],g=x[1],y=Object(n.useState)(),v=Object(S.a)(y,2),C=v[0],N=v[1],k=f?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",I=function(e){if("hashtags"===e.target.name){var t=e.target.value.split(" ");N(Object(d.a)(Object(d.a)({},C),{},Object(ne.a)({},e.target.name,t)))}else N(Object(d.a)(Object(d.a)({},C),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminCard",children:[Object(M.jsxs)("div",{className:"adminCardHeader",children:[Object(M.jsx)("span",{className:k,onClick:function(){return g(!f)}}),Object(M.jsx)("h4",{children:r}),Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"adminCarEditDelete",children:[Object(M.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return h(!b)}}),Object(M.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteItinerary("itinerary",a)}})]})})]}),Object(M.jsxs)("div",{className:"adminCardInfo",style:{display:f?"flex":"none"},children:[Object(M.jsxs)("div",{className:"adminCardFields",children:[Object(M.jsx)("span",{children:"Title:"}),Object(M.jsx)("span",{children:"Img:"}),Object(M.jsx)("span",{children:"Author name:"}),Object(M.jsx)("span",{children:"Author pic:"}),Object(M.jsx)("span",{children:"Price:"}),Object(M.jsx)("span",{children:"Duration:"}),Object(M.jsx)("span",{children:"Hashtags:"}),Object(M.jsx)("span",{children:"City:"})]}),Object(M.jsxs)("div",{style:{display:b?"none":"flex"},className:"adminElementInfo",children:[Object(M.jsx)("span",{children:r}),Object(M.jsx)("span",{children:s}),Object(M.jsx)("span",{children:c}),Object(M.jsx)("span",{children:i}),Object(M.jsx)("span",{children:o}),Object(M.jsx)("span",{children:l}),Object(M.jsx)("span",{children:u}),void 0!==j&&Object(M.jsx)("span",{children:j.name})]}),Object(M.jsxs)("form",{style:{display:b?"flex":"none"},children:[Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:r,name:"title",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:c,name:"authorName",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:i,name:"authorPic",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:o,name:"price",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:l,name:"duration",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:u,name:"hashtags",onChange:I})}),Object(M.jsx)("span",{children:Object(M.jsxs)("select",{name:"cityId",onChange:I,children:[Object(M.jsx)("option",{selected:!0,disabled:!0,children:"Select a City"}),e.citiesArray.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyItinerary("itinerary",a,C),h(!1)},style:{display:b?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})]})})),Oe={loadAllCities:de.getAllElements,sendNewCity:de.sendNewElement,getAllCities:de.getForSelect,cleanAdminStore:de.cleanAdminStore},xe=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader,preloaderCity:e.adminReducer.preloaderCityOrIti,citiesArray:e.adminReducer.citiesArrayOrItineraries}}),Oe)((function(e){var t=Object(n.useState)({title:"",img:"",authorName:"",authorPic:"",price:"",duration:"",likes:"",hashtags:[],cityId:""}),a=Object(S.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("itineraries"),e.getAllCities("cities"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){if("hashtags"===e.target.name){var t=e.target.value.split(" ");s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,t)))}else s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminSection",children:[Object(M.jsxs)("div",{className:"adminTitle",children:[Object(M.jsx)("h2",{children:"Itineraries"}),Object(M.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add itinerary"})]}),e.preloader?Object(M.jsx)(Q,{}):e.allCities.map((function(e,t){return Object(M.jsx)(he,{city:e},e._id)})),Object(M.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(M.jsxs)("form",{children:[Object(M.jsx)("span",{children:"Complete to add new Itinerary"}),Object(M.jsx)("input",{type:"text",placeholder:"Itinerary title",name:"title",value:r.title,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Name of Author",name:"authorName",value:r.authorName,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Pic of Author",name:"authorPic",value:r.authorPic,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Price",name:"price",value:r.price,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Duration",name:"duration",value:r.duration,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Hashtags",name:"hashtags",value:r.hashtags.length>1?r.hashtags.join(" "):r.hashtags,onChange:u}),Object(M.jsxs)("select",{name:"cityId",onChange:u,children:[Object(M.jsx)("option",{selected:!0,defaultValue:!0,value:"",disabled:!0,children:"City of Itinerary"}),e.citiesArray.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("itineraries",r),s({title:"",img:"",authorName:"",authorPic:"",price:"",duration:"",likes:"",hashtags:"",cityId:""})},children:"Send new"})]})})]})})),fe={deleteItinerary:de.deleteElement,modifyItinerary:de.modifyElement},ge=Object(o.b)((function(e){return{itinerariesArray:e.adminReducer.citiesArrayOrItineraries}}),fe)((function(e){var t=e.activity,a=t._id,r=t.name,s=t.img,c=t.itineraryId,i=Object(n.useState)(!1),o=Object(S.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),p=Object(S.a)(j,2),m=p[0],b=p[1],h=Object(n.useState)(),O=Object(S.a)(h,2),x=O[0],f=O[1],g=m?"fas fa-times-circle closeButton ":"fas fa-plus-circle moreButton",y=function(e){f(Object(d.a)(Object(d.a)({},x),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminCard",children:[Object(M.jsxs)("div",{className:"adminCardHeader",children:[Object(M.jsx)("span",{className:g,onClick:function(){return b(!m)}}),Object(M.jsx)("h4",{children:r}),Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"adminCarEditDelete",children:[Object(M.jsx)("span",{className:"fas fa-edit editAdmin",onClick:function(){return u(!l)}}),Object(M.jsx)("span",{className:"fas fa-trash-alt deleteAdmin",onClick:function(){return e.deleteItinerary("activities",a)}})]})})]}),Object(M.jsxs)("div",{className:"adminCardInfo",style:{display:m?"flex":"none"},children:[Object(M.jsxs)("div",{className:"adminCardFields",children:[Object(M.jsx)("span",{children:"Title:"}),Object(M.jsx)("span",{children:"Img:"}),Object(M.jsx)("span",{children:"Itinerary:"})]}),Object(M.jsxs)("div",{style:{display:l?"none":"flex"},className:"adminElementInfo",children:[Object(M.jsx)("span",{children:r}),Object(M.jsx)("span",{children:s}),void 0!==c&&Object(M.jsx)("span",{children:c.title})]}),Object(M.jsxs)("form",{style:{display:l?"flex":"none"},children:[Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:r,name:"name",onChange:y})}),Object(M.jsx)("span",{children:Object(M.jsx)("input",{type:"text",placeholder:s,name:"img",onChange:y})}),Object(M.jsx)("span",{children:Object(M.jsxs)("select",{name:"itineraryId",onChange:y,children:[Object(M.jsx)("option",{selected:!0,defaultValue:!0,disabled:!0,children:"Select a itinerary"}),e.itinerariesArray.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.title},e._id)}))]})}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.modifyItinerary("activities",a,x),u(!1)},style:{display:l?"block":"none"},className:"adminConfirmM",children:"Confirm"})]})]})]})})),ye={loadAllCities:de.getAllElements,sendNewCity:de.sendNewElement,getAllCities:de.getForSelect,cleanAdminStore:de.cleanAdminStore},ve=Object(o.b)((function(e){return{allCities:e.adminReducer.arrayOf,preloader:e.adminReducer.preloader,preloaderCity:e.adminReducer.preloaderCityOrIti,itinerariesArray:e.adminReducer.citiesArrayOrItineraries}}),ye)((function(e){var t=Object(n.useState)({name:"",img:"",itineraryId:""}),a=Object(S.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(S.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){return e.cleanAdminStore(),e.loadAllCities("activities"),e.getAllCities("itineraries"),function(){return e.cleanAdminStore()}}),[]);var u=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(ne.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{className:"adminSection",children:[Object(M.jsxs)("div",{className:"adminTitle",children:[Object(M.jsx)("h2",{children:"Activities"}),Object(M.jsx)("button",{onClick:function(){return l(!o)},style:{backgroundColor:o?"red":"#118311"},children:o?" Close X":"Add activity"})]}),e.preloader&&e.preloaderCity?Object(M.jsx)(Q,{}):e.allCities.map((function(e,t){return Object(M.jsx)(ge,{activity:e},e._id)})),Object(M.jsx)("div",{className:o?"newCityModalVisible":"newCityModalHidden",children:Object(M.jsxs)("form",{children:[Object(M.jsx)("span",{children:"Complete to add new Activity"}),Object(M.jsx)("input",{type:"text",placeholder:"Activity title",name:"name",value:r.name,onChange:u}),Object(M.jsx)("input",{type:"text",placeholder:"Url img",name:"img",value:r.img,onChange:u}),Object(M.jsxs)("select",{name:"itineraryId",onChange:u,children:[Object(M.jsx)("option",{selected:!0,defaultValue:!0,value:"",disabled:!0,children:"Itinerary of Activity"}),e.itinerariesArray.map((function(e){return Object(M.jsx)("option",{value:e._id,children:e.title},e._id)}))]}),Object(M.jsx)("button",{onClick:function(t){t.preventDefault(),e.sendNewCity("activities",r),s({name:"",img:"",itineraryId:""})},children:"Send new"})]})})]})})),Ce=function(e){Object(N.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=Object(M.jsx)(me,{}),e}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{style:{height:"9vh"}}),Object(M.jsxs)("div",{className:"adminContainer",children:[Object(M.jsxs)("div",{className:"adminNav",children:[Object(M.jsx)("span",{onClick:function(){return e.setState(Object(M.jsx)(me,{}))},children:"Cities"}),Object(M.jsx)("span",{onClick:function(){return e.setState(Object(M.jsx)(xe,{}))},children:"Itineraries"}),Object(M.jsx)("span",{onClick:function(){return e.setState(Object(M.jsx)(ve,{}))},children:"Activities"})]}),this.state]})]})}}]),a}(r.a.Component),Ne=function(){var e=Object(_.a)(A.a.mark((function e(t,a,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:a,type:n,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ke={getItineraries:function(e){return function(t,a){L.a.get("https://cabezas-mytinerary.herokuapp.com/api/itineraries/"+e).then((function(e){e.data.success?t({type:"GET_ITINERARIES",payload:{selectedItineraries:e.data.response,error:!1,preloader:!1}}):t({type:"ERROR_ITINERARY",payload:{error:!0,preloader:!1}})})).catch((function(e){return Ne("Error","An error happened, please reload the page!","danger")}))}},getOneCity:function(e){return function(t,a){L.a.get("https://cabezas-mytinerary.herokuapp.com/api/city/"+e).then((function(e){e.data.success?t({type:"GET_ONECITY",payload:{oneCity:e.data.response,error:!1,preloader:!1}}):t({type:"ERROR_ITINERARY",payload:{error:!0,preloader:!1}})})).catch((function(e){return Ne("Error","An error happened, please reload the page!","danger")}))}},removeItineraries:function(){return function(e,t){e({type:"REMOVE_ITINERARIES",payload:{selectedItineraries:[],preloader:!0}})}},checkUser:function(e,t){return function(){var a=Object(_.a)(A.a.mark((function a(n,r){var s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.get("https://cabezas-mytinerary.herokuapp.com/api/checkuser/"+e,{headers:{Authorization:"Bearer "+t.token}});case 3:if(!(s=a.sent).data.success){a.next=8;break}return a.abrupt("return",s.data.response);case 8:Ne("Error",s.data.error,"danger");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Ne("Error","Internal server error, please try later!","danger");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},likeItinerary:function(e,t){return function(){var a=Object(_.a)(A.a.mark((function a(n,r){var s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.get("https://cabezas-mytinerary.herokuapp.com/api/like/"+e,{headers:{Authorization:"Bearer "+t.token}});case 3:if(!(s=a.sent).data.success){a.next=8;break}return a.abrupt("return",s.data.response);case 8:Ne("Error",s.data.error,"danger");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Ne("Error","Internal server error, please try later!","danger");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},getActivities:function(e){return function(){var t=Object(_.a)(A.a.mark((function t(a,n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("https://cabezas-mytinerary.herokuapp.com/api/activities/"+e);case 3:if(!(r=t.sent).data.success){t.next=8;break}return t.abrupt("return",r.data.response);case 8:Ne("Error",r.data.error,"danger");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Ne("Error","Internal server error, please try later!","danger");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}},Ie=function(){var e=Object(_.a)(A.a.mark((function e(t,a,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:a,type:n,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),we={sendNewComment:function(e,t,a){return function(){var n=Object(_.a)(A.a.mark((function n(r,s){var c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.post("https://cabezas-mytinerary.herokuapp.com/api/comments/"+t,a,{headers:{Authorization:"Bearer "+e}});case 3:if(!(c=n.sent).data.success){n.next=8;break}return n.abrupt("return",c.data);case 8:Ie("Error",c.data.error,"danger");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},deleteComment:function(e,t){return function(){var a=Object(_.a)(A.a.mark((function a(n,r){var s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.delete("https://cabezas-mytinerary.herokuapp.com/api/comment/"+t,{headers:{Authorization:"Bearer "+e}});case 3:if(!(s=a.sent).data.success){a.next=8;break}return a.abrupt("return",s.data.response);case 8:Ie("Error",s.data.error,"danger");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("error");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},editComment:function(e,t,a){return function(){var n=Object(_.a)(A.a.mark((function n(r,s){var c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.put("https://cabezas-mytinerary.herokuapp.com/api/comment/"+t,a,{headers:{Authorization:"Bearer "+e}});case 3:if(!(c=n.sent).data.success){n.next=8;break}return n.abrupt("return",c.data.response);case 8:Ie("Error",c.data.error,"danger");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}},Se=function(e){var t=e.activity,a=t.name,n=t.img;return Object(M.jsx)("div",{className:"activity",style:{backgroundImage:"url('/assets/activities/".concat(n,"')")},children:Object(M.jsx)("span",{className:"activityTitle",children:a})})},Ee={deleteComment:we.deleteComment,editComment:we.editComment},Ae=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}),Ee)((function(e){var t=e.comment,a=e.setCommentsState,r=e.deleteComment,s=e.editComment,c=e.userLogged,i=e.userChecked,o=t._id,l=t.userName,d=t.userPic,u=t.text,j=Object(n.useState)({text:u}),p=Object(S.a)(j,2),m=p[0],b=p[1],h=Object(n.useState)(!1),O=Object(S.a)(h,2),x=O[0],f=O[1],g=Object(n.useState)(!1),y=Object(S.a)(g,2),v=y[0],C=y[1],N=x?"block":"none",k=i.some((function(e){return e===o})),I=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),e.next=3,r(c.token,o);case 3:t=e.sent,a(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(c.token,o,m);case 2:t=e.sent,a(t),f(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"comment",children:[Object(M.jsx)("div",{className:"userPicComment",style:{backgroundImage:"url(".concat(d,")")}}),Object(M.jsxs)("div",{className:"commentNameText",children:[Object(M.jsx)("span",{className:"commentsUserName",children:l}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{style:{display:x?"none":"block"},children:u}),Object(M.jsx)("textarea",{className:"textAreaEditComment",value:m.text,onChange:function(e){b({text:e.target.value})},style:{display:N},rows:"3",children:"Hola"}),Object(M.jsx)("button",{onClick:w,style:{display:N},children:"Confirm"})]})]}),Object(M.jsxs)("div",{className:"commentsButtons",style:{display:k?"flex":"none"},children:[Object(M.jsx)("span",{className:"fas fa-edit commentEditButton",onClick:function(){return f(!x)}}),Object(M.jsx)("span",{className:"fas fa-trash-alt commentDeleteButton",onClick:function(){return C(!0)}})]}),Object(M.jsx)("div",{className:v?"deleteCommentModalOpen":"deleteCommentModalClose",children:Object(M.jsxs)("div",{className:"deleteComment",children:[Object(M.jsx)("p",{children:"Are you sure you want to delete this comment? This cannot be undone."}),Object(M.jsxs)("div",{className:"deleteCommentButtons",children:[Object(M.jsx)("button",{onClick:function(){return C(!1)},children:"Cancel"}),Object(M.jsx)("button",{onClick:I,children:"Delete"})]})]})})]})})),_e={sendNewComment:we.sendNewComment,likeItinerary:ke.likeItinerary,checkUser:ke.checkUser,getActivities:ke.getActivities},Re=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged}}),_e)((function(e){var t=e.itinerary,a=e.sendNewComment,r=e.userLogged,s=e.likeItinerary,c=e.checkUser,i=e.getActivities,o=t._id,l=t.title,u=t.authorName,j=t.authorPic,p=t.price,m=t.duration,b=t.likes,h=t.hashtags,O=t.img,x=t.comments,f=Object(n.useState)([]),g=Object(S.a)(f,2),y=g[0],v=g[1],C=Object(n.useState)(!1),N=Object(S.a)(C,2),k=N[0],I=N[1],w=Object(n.useState)(0),E=Object(S.a)(w,2),R=E[0],L=E[1],U=Object(n.useState)({likesCount:b,liked:!1,repeatLikeFilter:!1}),F=Object(S.a)(U,2),D=F[0],P=F[1],B=Object(n.useState)(x),z=Object(S.a)(B,2),H=z[0],G=z[1],Y=Object(n.useState)({text:""}),V=Object(S.a)(Y,2),X=V[0],W=V[1],q=Object(n.useState)({activities:[],preloader:!0}),J=Object(S.a)(q,2),K=J[0],Z=J[1],$=D.liked?"fas fa-heart heart":"far fa-heart heart";Object(n.useEffect)((function(){te()}),[]);var ee=function(){var e=Object(_.a)(A.a.mark((function e(t,a,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.store.addNotification({title:t,message:a,type:n,insert:"top",container:"top-right",animationIn:["animate__animated","animate__flipInX"],animationOut:["animate__animated","animate__fadeOutDown"],dismiss:{duration:3e3,onScreen:!0,pauseOnHover:!0,showIcon:!0}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,c(o,r);case 3:t=e.sent,v(t.arrayOwnerCheck),t.likedChek&&P(Object(d.a)(Object(d.a)({},D),{},{liked:!0}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){for(var t=[],a=0;a<e;a++)t.push("e");return t},ne=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.repeatLikeFilter||!r){e.next=9;break}return e.next=3,P(Object(d.a)(Object(d.a)({},D),{},{repeatLikeFilter:!0,liked:!0}));case 3:return e.next=5,s(o,r);case 5:t=e.sent,P({likesCount:t.likes,liked:t.liked,repeatLikeFilter:!1}),e.next=10;break;case 9:r||ee("Alert","You need to be logged for like this itinerary!","info");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==X.text.length){e.next=4;break}ee("Error","Please complete the field to send a comment. ","danger"),e.next=14;break;case 4:if(!r){e.next=13;break}return e.next=7,a(r.token,o,X);case 7:t=e.sent,G(t.response),W({text:""}),v(t.arrayOwnerCheck),e.next=14;break;case 13:ee("Alert","You need to be logged for comment this itinerary!","info");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!k),e.next=3,i(o);case 3:t=e.sent,Z({activities:t,preloader:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:k?"showItinerary":"itinerary",children:[Object(M.jsxs)("div",{className:"info",style:{backgroundImage:"url('/assets/itineraries/".concat(O,"')")},children:[Object(M.jsx)("div",{className:"mouseMove",style:{transform:"rotate(".concat(R,"deg)"),transition:".1s"}}),Object(M.jsx)("div",{className:"titleSectionItinerary",onMouseMove:function(e){return function(e){var t=e.pageX;switch(t>200&&t<1150){case t>220&&t<260:L(-4);break;case t>300&&t<330:L(-3);break;case t>400&&t<430:L(-2);break;case t>500&&t<530:L(-1);break;case t>600&&t<630:L(0);break;case t>700&&t<730:L(1);break;case t>800&&t<830:L(2);break;case t>900&&t<930:L(3);break;case t>1e3&&t<1030:L(4)}}(e)},children:Object(M.jsx)("p",{className:"titleItinerary",children:l})}),Object(M.jsxs)("div",{className:"authorItinerary",children:[Object(M.jsx)("div",{className:"authorImg",style:{backgroundImage:"url(".concat(j,")")}}),Object(M.jsx)("p",{children:u})]}),Object(M.jsxs)("div",{className:"priceSection",children:[Object(M.jsxs)("span",{className:"text",children:["Price:",ae(p).map((function(e,t){return Object(M.jsx)("span",{className:"far fa-usd-circle price"},t)}))]}),Object(M.jsxs)("span",{className:"text",children:["Duration:",ae(m).map((function(e,t){return Object(M.jsx)("span",{className:"far fa-clock duration"},t)}))]}),Object(M.jsxs)("span",{className:"text",children:[Object(M.jsx)("span",{className:$,onClick:ne}),D.likesCount||""]})]}),Object(M.jsx)("div",{className:"hashtag",children:h.map((function(e,t){return Object(M.jsxs)("p",{children:["#",e]},t)}))})]}),Object(M.jsxs)("div",{className:k?"showDivOn":"showDivOff",children:[Object(M.jsx)("h4",{children:"Activities"}),K.preloader?Object(M.jsx)(Q,{}):Object(M.jsx)("div",{className:"activitiesContainer",children:K.activities.map((function(e){return Object(M.jsx)(Se,{activity:e},e._id)}))}),Object(M.jsx)("h4",{children:"Comments"}),Object(M.jsx)("div",{className:"commentsItinerary",children:Object(M.jsx)("div",{children:H.map((function(e){return Object(M.jsx)(Ae,{comment:e,commentsState:H,setCommentsState:G,userChecked:y},e._id)}))})}),Object(M.jsxs)("div",{className:"newComment",children:[Object(M.jsx)("textarea",{value:X.text,onChange:function(e){W({text:e.target.value})},rows:"2",placeholder:"Write comment here..."}),Object(M.jsx)("button",{onClick:re,children:"Send"})]})]}),Object(M.jsx)("div",{className:"buttonShow",onClick:se,children:k?Object(M.jsxs)("span",{children:["View less ",Object(M.jsx)("span",{className:"fas fa-chevron-circle-up"})]}):Object(M.jsxs)("span",{children:["View more ",Object(M.jsx)("span",{className:"fas fa-chevron-circle-down",children:" "})]})})]})})),Le={loadSelectedItineraries:ke.getItineraries,getOneCity:ke.getOneCity,removeItineraries:ke.removeItineraries},Te=Object(o.b)((function(e){return{allCities:e.cityReducer.citiesArray,selectedItineraries:e.itineraryReducer.selectedItineraries,preloaderItinerary:e.itineraryReducer.preloader,oneCityBackup:e.itineraryReducer.oneCity,errorCity:e.cityReducer.error,errorItinerary:e.itineraryReducer.error}}),Le)((function(e){var t=Object(n.useState)({oneCity:{},preloaderCity:!0,errorCity:!1}),a=Object(S.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){return e.loadSelectedItineraries(e.match.params.id),e.allCities.length>0?s({oneCity:e.allCities.find((function(t){return t._id===e.match.params.id})),preloaderCity:!1,errorCity:e.errorCity}):e.getOneCity(e.match.params.id),function(){e.removeItineraries()}}),[]),Object(n.useEffect)((function(){void 0!==e.oneCityBackup&&0===e.allCities.length&&s(Object(d.a)(Object(d.a)({},r),{},{oneCity:e.oneCityBackup,preloaderCity:!1,errorCity:e.errorCity}))}),[e.oneCityBackup]);var c=r.oneCity,i=r.preloaderCity,o=r.errorCity;return i||e.preloaderItinerary?Object(M.jsx)(Q,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{}),Object(M.jsxs)("div",{className:"itinerariesContainer",children:[Object(M.jsx)("div",{className:"cityItinerariesHero",style:{backgroundImage:"url('/assets/".concat(r.oneCity.img,"')")},children:Object(M.jsxs)("p",{className:"cityTitle",children:[" ",c.name]})}),o||e.errorItinerary?Object(M.jsx)("p",{children:"A database error happened "}):0===e.selectedItineraries.length?Object(M.jsxs)("div",{className:"noItineraries",style:{backgroundImage:"url('/assets/pattern.png')"},children:[Object(M.jsx)("div",{className:"divNoItineraries"}),Object(M.jsx)("p",{children:"Itineraries have not been added yet!"}),Object(M.jsx)("p",{children:"Come back soon!"})]}):e.selectedItineraries.map((function(e){return Object(M.jsx)(Re,{itinerary:e},e._id)})),Object(M.jsx)("div",{className:"cta-plane",children:Object(M.jsx)(I.b,{to:"/cities",children:Object(M.jsx)("button",{className:"cta",children:Object(M.jsx)("p",{children:"Back to Cities"})})})})]})]})})),Ue=function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"footer",style:{backgroundImage:"url('/assets/footer.jpg')"},children:[Object(M.jsx)("div",{className:"footerFilter"}),Object(M.jsxs)("div",{className:"divFooter",children:[Object(M.jsx)("div",{className:"logo-footer",children:Object(M.jsx)("div",{className:"logo-img-footer",style:{backgroundImage:"url('/assets/logotype.png')"}})}),Object(M.jsxs)("div",{className:"navigation-social",children:[Object(M.jsxs)("div",{className:"linkFooter",children:[Object(M.jsx)("span",{className:"footerTitle",children:"Explore"}),Object(M.jsx)(B,{})]}),Object(M.jsxs)("div",{className:"contact",children:[Object(M.jsx)("span",{className:"footerTitle",children:"Contact"}),Object(M.jsxs)("div",{className:"contactIcon",children:[Object(M.jsxs)("span",{children:[Object(M.jsx)("i",{className:"fas fa-phone-alt"})," ",Object(M.jsx)("span",{className:"ubi-tel",children:"011 4976-3658"})]}),Object(M.jsxs)("span",{children:[Object(M.jsx)("i",{className:"fas fa-map-marker-alt"})," ",Object(M.jsx)("span",{className:"ubi-tel",children:"Av. Santa Fe 1123, Bs As, Argentina"})]})]})]}),Object(M.jsxs)("div",{className:"social",children:[Object(M.jsx)("span",{className:"footerTitle",children:"Social"}),Object(M.jsxs)("div",{className:"socialIcon",children:[Object(M.jsx)("span",{className:"fab fa-facebook"}),Object(M.jsx)("span",{className:"fab fa-instagram"}),Object(M.jsx)("span",{className:"fab fa-twitter"}),Object(M.jsx)("span",{className:"fab fa-whatsapp"})]})]})]})]}),Object(M.jsx)("div",{className:"copyright",children:Object(M.jsx)("span",{children:"\xa9Copyright  - All rights reserved - Lucas Cabezas"})})]})})},Fe=(a(111),function(e){Object(N.a)(a,e);var t=Object(k.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){if(!this.props.userLogged&&localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("userLogged")),t=Object(d.a)(Object(d.a)({},e),{},{token:localStorage.getItem("token")});return this.props.signInLocalStorage(t),null}return this.props.userLogged&&this.props.checkAdmin(this.props.userLogged),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(U.a,{}),Object(M.jsxs)(I.a,{children:[Object(M.jsx)(z,{}),Object(M.jsxs)(w.d,{children:[Object(M.jsx)(w.b,{exact:!0,path:"/",component:K}),Object(M.jsx)(w.b,{exact:!0,path:"/cities",component:ae}),!this.props.userLogged&&Object(M.jsx)(w.b,{path:"/user/signin",component:le}),!this.props.userLogged&&Object(M.jsx)(w.b,{path:"/user/signup",component:ie}),this.props.userLogged&&this.props.userAdm&&Object(M.jsx)(w.b,{exact:!0,path:"/admin",component:Ce}),Object(M.jsx)(w.b,{exact:!0,path:"/itineraries/:id",component:Te}),Object(M.jsx)(w.a,{to:"/"})]}),Object(M.jsx)(Ue,{})]})]})}}]),a}(r.a.Component)),De={signInLocalStorage:D.signInLocalStorage,checkAdmin:D.checkAdmin},Me=Object(o.b)((function(e){return{userLogged:e.authReducer.userLogged,userAdm:e.authReducer.userAdm}}),De)(Fe),Pe=Object(i.d)(y,Object(i.a)(l.a));c.a.render(Object(M.jsx)(o.a,{store:Pe,children:Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(Me,{})})}),document.getElementById("root"))},59:function(e,t,a){},60:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.375e5c06.chunk.js.map